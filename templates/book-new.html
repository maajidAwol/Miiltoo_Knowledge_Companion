{%extends "base.html"%}

    {%block title%}Learn{%endblock%}
   {%block head%}
    <link rel="stylesheet" href="/static/css/home-new.css" />
    <link rel="stylesheet" href="/static/css/book-new.css" />
    <link rel="stylesheet" href="/static/css/loading-style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    {%endblock%}
  {%block body%}
   
    <main sty>
      <section class="chat-sec">
        <div class="book-container">
            <embed
            src="/static/{{book}}"
            frameborder="0"
            class="pdf-section"
          ></embed>
        </div>
        <div class="chatbot-container">
          <div class="chatbot-var-2 hidden">
            <button class="arrow-btn chat-left-btn">
              <i class="fa-solid fa-arrow-right"></i>
            </button>
            <div class="chat-top-container">
              <div class="var2-logo">
                <img src="/static/asset/logo.svg" alt="">
                miilt<span>oo</span>
              </div>
              <div class="chat-top-headline">
                <div class="chat-text">
                  <span class="chat-text-icon"><i class="fa-brands fa-rocketchat"></i></span>
                  chat
                </div>
                <div class="subject-text">
                  <span class="subject-text-icon"><i class="fa-solid fa-book"></i></span>
                  subject :
                  <p class="subject-name">subject name</p>
                </div>
              </div>
            </div>
            <form method="post" class="ask-form">
              <div class="text-input-container">
                <span class="question-icon">?
                </span>
                <textarea name="" id="aaa" class="text-input" placeholder="what can i help you?"></textarea>
              </div>


              <button type="submit" id="bbb" class="ask-btn">
                <span class="ask-btn-icon">

                  <i class="fa-solid fa-microchip"></i>
                <span class="icon-text">ai</span>
                </span>
                ask
              </button>
                <input id="book_choice" name="book_choice" type="hidden" value="{{book}}" >
            </form>
            <div class="result-label">
              <div class="result-label-item">
                <span class="static-icon"><i class="fa-solid fa-square-poll-vertical"></i></span>
                result
              </div>
            </div>
            <div class="result-container" >

<div class="result-container-item" id="ccc">
<!--                <div class="user-message-container">-->
<!--                  <span class="user-message-icon">-->
<!--                    <i class="fa-solid fa-user-tie"></i>-->
<!--                  </span>-->
<!--                  <div class="user-message-content">-->
<!--                    what is the book about ?-->
<!--                  </div>-->
<!--                </div>-->
<!--                <div class="chatbot-message-container">-->
<!--                  <span class="chatbot-icon">-->
<!--                    <img src="/static/asset/logo.svg" alt="">-->

<!--                  </span>-->
<!--                  <div class="chatbot-content">-->
<!--                    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quibusdam laborum iure laboriosam, eveniet iste itaque, quas dolorem sed quam veritatis commodi eum laudantium. Voluptatibus sapiente recusandae nemo ipsa illo expedita.-->
<!--                    Necessitatibus quasi error recusandae vitae ut cum accusantium quae delectus eius esse quibusdam aliquam sunt alias debitis consequatur vero laudantium nobis dolorum, sed tenetur obcaecati placeat asperiores voluptas iusto! Quia!-->
<!--                    Repudiandae assumenda dicta similique dolorem, eaque unde quas autem sit tempora. Nobis consequatur eaque assumenda nostrum molestias alias. Accusamus reprehenderit rem repellat unde necessitatibus esse error earum iste ratione beatae.-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->

<!--                            hello-->
<!--              <form>-->

<!--&lt;!&ndash;             <input id="aaa" name="prompt" type="text">&ndash;&gt;-->
<!--&lt;!&ndash;                <button id="bbb">prompt</button>&ndash;&gt;-->
<!--              <div id="ccc">jjj</div>-->
<!--              </form>-->
            </div>
          </div>
          </div>
          <div class="chatbot-var-3 hidden">
                 <!--    protect       -->
            <button class="arrow-btn chat-left-btn">
              <i class="fa-solid fa-arrow-right"></i>
            </button>
            <div class="chat-top-container">
              <div class="var2-logo">
                <img src="/static/asset/logo.svg" alt="">
                miilt<span>oo</span>
              </div>
              <div class="chat-top-headline">
                <div class="chat-text">

                  <span class="chat-text-icon">
                    <i class="fa-regular fa-message"></i>
                    <i class="fa-solid fa-question"></i>
                  </span>
                  quize
                </div>
                <div class="subject-text">
                  <span class="subject-text-icon"><i class="fa-solid fa-book"></i></span>
                  subject :
                  <p class="subject-name">subject name</p>
                </div>
              </div>
            </div>
<!--    protect       -->
<!--              generation form-->
          <form  class="generate-form" >
            <div class="selection-container">
              <div class="chapter-container">
               <select name="" id="chapter" class="chapter">
                 <option  value="Introduction">

                 choose-chapter

                 </option>
                </select>
              </div>
               <div class="chapter-container">
                 <select name="" id="subtopic" class="subtopic">
                   <option  value="Definition of Biology ">
                 <div class="please-choose-section">Choose subtopic</div>

                   </option>
                 </select>
               </div>
             <div class="chapter-container">
               <select name="" id="number" class="totalNoQuize">
                 <option value="label">choose no of quize</option>
                 <option value="1">1</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4" >4</option>
                 <option value="5" >5</option>
                 <option value="6">6</option>
                </select>
             </div>
           </div>
            <button id="fetch-quiz" type="submit" class="generate-btn">
            <span class="generate-btn-icon">
                <i class="fa-solid fa-microchip"></i>
              <span class="icon-text">ai</span>
              </span>
              generate quiz
            </button>
          </form>
              <!--              generation form-->
<!--result text-->
          <div class="result-label">
            <div class="result-label-item">
              <span class="static-icon"><i class="fa-solid fa-square-poll-vertical"></i></span>
              result
            </div>
          </div>   <script>
  var biology = {{ json_data | default('null') | tojson | safe }};
</script>
              <!--result text-->
<!--the generated quiz container-->
          <div class="result-container">

           <div class="result-container-item">
           <form action="" class="generated-quize-form" id="quiz-form">
<!--           <div class="quize-content-container" data-question-id="1">-->
<!--              <div class="quize-question-container">-->
<!--                <span class="quize-no">q1</span>-->
<!--                <p class="quize-question">-->
<!--                  Who was the emperor of Ethiopia-->
<!--                  during the Battle of Adwa in 1896, where Ethiopian forces defeated the Italians?-->
<!--                </p>-->
<!--              </div>-->
<!--              <button class="quize-choose " onclick="handleChoice(1,'option-1')">-->
<!--                <span class="choose-list">A&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <button class="quize-choose " onclick="handleChoice(1,'option-2')">-->
<!--                <span class="choose-list">B&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <button class="quize-choose " onclick="handleChoice(1,'option-3')">-->
<!--                <span class="choose-list">C&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <button class="quize-choose " onclick="handleChoice(1,'option-4')">-->
<!--                <span class="choose-list">d&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <input type="hidden" id="selectedChoice1" name="selectedChoice1" value="">-->

<!--            </div>-->
<!--            <div class="quize-content-container" data-question-id="2">-->
<!--              <div class="quize-question-container">-->
<!--                <span class="quize-no">q2</span>-->
<!--                <p class="quize-question">-->
<!--                  Who was the emperor of Ethiopia-->
<!--                  during the Battle of Adwa in 1896, where Ethiopian forces defeated the Italians?-->
<!--                </p>-->
<!--              </div>-->
<!--              <button class="quize-choose " onclick="handleChoice(2,'option-1')">-->
<!--                <span class="choose-list">A&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <button class="quize-choose " onclick="handleChoice(2,'option-2')">-->
<!--                <span class="choose-list">B&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <button class="quize-choose " onclick="handleChoice(2,'option-3')">-->
<!--                <span class="choose-list">C&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <button class="quize-choose " onclick="handleChoice(2,'option-4')">-->
<!--                <span class="choose-list">d&#41;</span>-->
<!--              <p class="choose-item">-->
<!--                Emperor Menelik II-->
<!--              </p>-->
<!--              </button>-->
<!--              <input type="hidden" id="selectedChoice2" name="selectedChoice1" value="">-->
<!--            </div>-->

               <div id="quiz-container"></div>
<!--        <div class="blue-line"></div>-->

            <button class="generate-btn" type="button" style="display: none;" id="submit-button" disabled>Submit Answers</button><br>
           </form>
           <div class="explanation-container" id="results"  style="display: none;"></div>
           </div>

          </div>



<!--           <div class="result-label2-container">-->
<!--            <div class="result-line"></div>-->
<!--            <div class="result-label2">result</div>-->
<!--           </div>-->
<!--           <div class="score-container">-->
<!--            <div class="score-board">-->
<!--              your score : <span class="score">1</span><span class="total-quize">/2</span>-->
<!--             </div>-->
<!--           </div>-->
<!--           <div class="explanation-label">-->
<!--            <span class="fether-icon">-->
<!--              <i class="fa-solid fa-feather"></i>-->
<!--            </span>-->
<!--            explanation-->
<!--          </div>-->
<!--          <div class="explanation-container">-->
<!--            <span class="chatbot-icon">-->
<!--              <img src="/static/asset/logo.svg" alt="">-->

<!--            </span>-->
<!--           <div class="expln-content">-->
<!--              <div class="expln-item">-->
<!--                <div class="question-container">-->
<!--                  <span class="quize-no">q1</span>-->
<!--                  <p class="question">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore-->
<!--                    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris </p>-->
<!--                </div>-->
<!--                <div class="your-answer">-->
<!--                  your answer : <span class="choice-selected">A</span>-->
<!--                  <span class="x-icon"><i class="fa-solid fa-circle-xmark"></i></span>-->
<!--                  <span class="correct-icon hidden"><i class="fa-solid fa-circle-check"></i></span>-->
<!--                </div>-->
<!--                <div class="correct-answer">-->
<!--                  <span class="correct-icon"><i class="fa-solid fa-circle-check"></i></span>-->
<!--                  correct answer : <span class="correct">C</span>-->
<!--                </div>-->
<!--               <div class="expln-detail-container">-->
<!--                <div class="explanation-label expln-detail-label">-->
<!--                  <span class="fether-icon">-->
<!--                    <i class="fa-solid fa-feather"></i>-->
<!--                  </span>-->
<!--                  explanation-->
<!--                </div>-->
<!--                <p class="expln-detail">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore-->
<!--                  Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo con-->
<!--                  Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatu-->
<!--                  Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id es-->
<!--                </p>-->
<!--               </div>-->
<!--              </div>-->
<!--              <div class="expln-item">-->
<!--                <div class="question-container">-->
<!--                  <span class="quize-no">q1</span>-->
<!--                  <p class="question">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore-->
<!--                    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris </p>-->
<!--                </div>-->
<!--                <div class="your-answer">-->
<!--                  your answer : <span class="choice-selected">A</span>-->
<!--                  <span class="x-icon"><i class="fa-solid fa-circle-xmark"></i></span>-->
<!--                  <span class="correct-icon hidden"><i class="fa-solid fa-circle-check"></i></span>-->
<!--                </div>-->
<!--                <div class="correct-answer">-->
<!--                  <span class="correct-icon"><i class="fa-solid fa-circle-check"></i></span>-->
<!--                  correct answer : <span class="correct">C</span>-->
<!--                </div>-->
<!--               <div class="expln-detail-container">-->
<!--                <div class="explanation-label expln-detail-label">-->
<!--                  <span class="fether-icon">-->
<!--                    <i class="fa-solid fa-feather"></i>-->
<!--                  </span>-->
<!--                  explanation-->
<!--                </div>-->
<!--                <p class="expln-detail">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore-->
<!--                  Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo con-->
<!--                  Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatu-->
<!--                  Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id es-->
<!--                </p>-->
<!--               </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
          </div>
              <!--the generated quiz container-->

         <div class="chatbot-var-4 hidden">
          <button class="arrow-btn chat-left-btn">
            <i class="fa-solid fa-arrow-right"></i>
          </button>
          <div class="chat-top-container upload-top-container">
            <div class="var2-logo">
              <img src="/static/asset/logo.svg" alt="">
              miilt<span>oo</span>
            </div>
            <div class="chat-top-headline">
              <div class="chat-text">
                
                <span class="chat-text-icon">
                  <i class="fa-solid fa-upload"></i>
                </span>
                upload-file
              </div>
            </div> 
          </div>
          <!-- the start of drop area -->
<!--          <div class="drop-area">-->
<!--            <span class="cloud-icon"><i class="fa-solid fa-cloud-arrow-up"></i>-->
<!--            </span>-->
<!--            <div class="drop-area-label">-->
<!--              Drop your pdf here or ,-->
<!--&lt;!&ndash;              <span>Browse</span>&ndash;&gt;-->
<!--                <input type="file" placeholder="Browse">-->
<!--            </div>-->
<!--            <div class="sub-label">-->
<!--              maximum file size 50mb-->
<!--            </div>-->
<!--          </div>-->

         <div class="drop-area"id="drop-area">
               <form
                 class="drop-area-form my-form"
                 action="/upload"
                 method="POST"
                 enctype="multipart/form-data"
               >
                 <span class="cloud-icon"
                   ><i class="fa-solid fa-cloud-arrow-up"></i
                 ></span>
                 <div style="display: flex; gap: 4px;">
                  <p>Drag and drop a file here, or</p>
                  <label for="fileElem" class="browse-button">browse</label>
                 </div>
                 

                  <span id="fileName" class="sub-label">No file selected</span>
                 <input
                   type="file"
                   id="fileElem"
                   name="file"
                   class="button"
                   
                   accept="application/pdf"
                 />


                 
                 <button class="file-label button" id="upload-button" style="display: none;"
                   onclick="uploadForm()">

                     <span class="file-label-text">open</span>
                   </button>
               </form>
               <div id="gallery"></div>

             <!-- Move the upload button outside the drop area -->
           </div>
           <div class="recent-label">
            <span class="recent-icon">
              <i class="fa-solid fa-newspaper"></i>
            </span>
            recent
          </div>
          <div class="file-container">
            <div class="file-item">

            </div>
          </div>
             <script>const dropArea = document.getElementById("drop-area");
const fileElem = document.getElementById("fileElem");
const uploadButton = document.getElementById("upload-button");
const progressArea = document.querySelector('.file-item');

// Prevent default drag behaviors
["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
  dropArea.addEventListener(eventName, preventDefaults, false);
});

// Highlight drop area when a file is dragged over it
dropArea.addEventListener("dragenter", highlight, false);
dropArea.addEventListener("dragover", highlight, false);
dropArea.addEventListener("dragleave", unhighlight, false);
dropArea.addEventListener("drop", unhighlight, false);

// Handle dropped files
dropArea.addEventListener("drop", handleDrop, false);

// Handle file input change
fileElem.addEventListener("change", handleFilesFromInput, false);

function preventDefaults(e) {
  e.preventDefault();
  e.stopPropagation();
}

function highlight() {
  dropArea.classList.add("highlight");
}

function unhighlight() {
  dropArea.classList.remove("highlight");
}

// function handleMyFile() {
//   var fileInput = document.getElementById("fileElem");
//   var fileName = document.getElementById("fileName");

//   if (fileInput.files.length > 0) {
//     fileName.textContent = fileInput.files[0].name;
//   } else {
//     fileName.textContent = "No file selected";
//   }
//   handleFiles(files);
// }
function handleDrop(e) {
  e.preventDefault();
  const dt = e.dataTransfer;
  const files = dt.files;

  // Append the dropped files to the file input
  fileElem.files = files;

  // Handle the dropped files
  handleFilesFromInput();
}

function handleFilesFromInput() {
  const files = fileElem.files;
  var fileInput = document.getElementById("fileElem");
  var fileName = document.getElementById("fileName");

  if (fileInput.files.length > 0) {
    fileName.textContent = fileInput.files[0].name;
  } else {
    fileName.textContent = "No file selected";
  }
  handleFiles(files);
}

function handleFiles(files) {
  files = [...files];
  files.forEach(uploadFile);
}
document.querySelector('#upload-button').addEventListener('click',()=>{
  document.querySelector('#upload-button').innerHTML=`Analysing...`;
  progressArea.innerHTML=` <div class="animation-logo" style='position: relative;
    left: -12px;'>
                  <div class="loading-anime">
                    <svg
                      id="logo"
                      width="47"
                      height="47"
                      viewBox="0 0 47 47"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M23.1628 21.5686L23.5001 21.8768L23.8374 21.5686L30.4617 15.5149C30.4784 15.4997 30.5024 15.4958 30.523 15.5048L30.7247 15.0473L30.523 15.5048C30.5436 15.5139 30.5569 15.5343 30.5569 15.5568V19.1273H30.4433V16.82V15.6857L29.606 16.4509L23.5384 21.9957C23.5167 22.0156 23.4834 22.0156 23.4617 21.9957L17.3942 16.4509L16.5569 15.6857V16.82V19.1273H16.4432V15.5568C16.4432 15.5343 16.4565 15.5139 16.4771 15.5048C16.4977 15.4958 16.5218 15.4997 16.5384 15.5149L23.1628 21.5686ZM16.4432 28.3115V25.3773H16.5569V28.1648V28.3584L16.6873 28.5016L16.7105 28.5269C16.7105 28.5269 16.7105 28.527 16.7105 28.527C16.8197 28.6461 16.9793 28.8165 17.1809 29.021C17.5843 29.4302 18.1555 29.9755 18.827 30.5207C19.4986 31.0661 20.2695 31.6103 21.0721 32.0181C21.8751 32.426 22.7064 32.6955 23.5001 32.6955C24.2937 32.6955 25.125 32.426 25.9281 32.0181C26.7307 31.6103 27.5015 31.0661 28.1731 30.5207C28.8446 29.9755 29.4158 29.4302 29.8192 29.021C30.0208 28.8165 30.1805 28.6461 30.2896 28.5269L30.3128 28.5016L30.4433 28.3584V28.1648V25.3773H30.5569V28.3115L30.5001 28.3773L30.1734 28.7558L30.2059 28.7839C30.1189 28.8761 30.0164 28.9828 29.9001 29.1008C29.4947 29.512 28.9203 30.0604 28.2448 30.6089C27.5694 31.1574 26.7917 31.7068 25.9795 32.1194C25.1679 32.5318 24.3183 32.8092 23.5001 32.8092C22.6819 32.8092 21.8323 32.5318 21.0206 32.1194C20.2085 31.7068 19.4308 31.1574 18.7554 30.6089C18.0798 30.0604 17.5054 29.512 17.1 29.1008C16.9837 28.9828 16.8812 28.8761 16.7943 28.7839C16.8048 28.7748 16.8156 28.7654 16.8268 28.7558L16.5001 28.3773L16.4432 28.3115Z"
                        stroke="#5CFFFC"
                      ></path>
                      <path
                        d="M16.5 25.1381C18.0941 25.1381 19.3864 23.8458 19.3864 22.2517C19.3864 20.6576 18.0941 19.3653 16.5 19.3653C14.9059 19.3653 13.6136 20.6576 13.6136 22.2517C13.6136 23.8458 14.9059 25.1381 16.5 25.1381ZM19.5 22.2517C19.5 23.9086 18.1569 25.2517 16.5 25.2517C14.8431 25.2517 13.5 23.9086 13.5 22.2517C13.5 20.5949 14.8431 19.2517 16.5 19.2517C18.1569 19.2517 19.5 20.5949 19.5 22.2517Z"
                        stroke="#5CFFFC"
                      ></path>
                      <path
                        d="M23.3708 26.3608L23.5001 26.3954L23.6293 26.3608L26.1104 25.6969C26.1407 25.6888 26.1719 25.7068 26.18 25.7371C26.1881 25.7674 26.1701 25.7986 26.1398 25.8067L23.9276 26.3986L23.5569 26.4978V26.8816V32.5538C23.5569 32.5852 23.5315 32.6106 23.5001 32.6106C23.4687 32.6106 23.4433 32.5852 23.4433 32.5538V26.8816V26.4978L23.0725 26.3986L20.8604 25.8067C20.8301 25.7986 20.8121 25.7674 20.8202 25.7371C20.8283 25.7068 20.8594 25.6888 20.8898 25.6969L23.3708 26.3608Z"
                        stroke="#5CFFFC"
                      ></path>
                      <path
                        d="M17.375 22.2521C17.375 22.7354 16.9833 23.4316 16.5 23.4316C16.0168 23.4316 15.625 22.7354 15.625 22.2521C15.625 21.7689 16.0168 20.8066 16.5 20.8066C16.9833 20.8066 17.375 21.7689 17.375 22.2521Z"
                        fill="#00FFFA"
                      ></path>
                      <path
                        d="M30.5 25.1381C32.0941 25.1381 33.3864 23.8458 33.3864 22.2517C33.3864 20.6576 32.0941 19.3653 30.5 19.3653C28.9059 19.3653 27.6136 20.6576 27.6136 22.2517C27.6136 23.8458 28.9059 25.1381 30.5 25.1381ZM33.5 22.2517C33.5 23.9086 32.1569 25.2517 30.5 25.2517C28.8431 25.2517 27.5 23.9086 27.5 22.2517C27.5 20.5949 28.8431 19.2517 30.5 19.2517C32.1569 19.2517 33.5 20.5949 33.5 22.2517Z"
                        stroke="#5CFFFC"
                      ></path>
                      <path
                        d="M31.375 22.2521C31.375 22.7354 30.9833 23.4316 30.5 23.4316C30.0168 23.4316 29.625 22.7354 29.625 22.2521C29.625 21.7689 30.0168 20.8066 30.5 20.8066C30.9833 20.8066 31.375 21.7689 31.375 22.2521Z"
                        fill="#00FFFA"
                      ></path>
                      <path
                        d="M23.5 46.5C36.2025 46.5 46.5 36.2025 46.5 23.5C46.5 10.7975 36.2025 0.5 23.5 0.5C10.7975 0.5 0.5 10.7975 0.5 23.5C0.5 36.2025 10.7975 46.5 23.5 46.5ZM44 23.5C44 35.3741 35.3741 44 23.5 44C11.6259 44 3 35.3741 3 23.5C3 11.6259 11.6259 3 23.5 3C35.3741 3 44 11.6259 44 23.5Z"
                        stroke="#00FFFA"
                      ></path>
                    </svg>
                  </div>
            
                  <div class="loader1">
                    <span style="--i: 0"></span>
            
                    <span style="--i: 1"></span>
            
                      <span style="--i: 2"></span>   <span style="--i: 3"></span>  
                    <span style="--i: 4"></span>
                  </div>
            
                  <div class="loader2">
                    <span style="--i: 0"></span>
            
                    <span style="--i: 1"></span>
            
                      <span style="--i: 2"></span>   <span style="--i: 3"></span>
                  </div>
                </div>`;
document.querySelector('.file-container').style.padding='48px';
document.querySelector('.file-box').style.display='none';

})
function uploadFile(file) {
 

  const url = "/upload";
  const formData = new FormData();

  formData.append("file", file);
let xhr=new XMLHttpRequest();
xhr.open('POST',url);

xhr.upload.addEventListener('progress',({loaded,total})=>{
  let fileLoaded=Math.floor((loaded/total)*1000);
  let fileTotal=Math.floor((total/1000)/1024);
document.querySelector('.file-label').style.display='block';

  progressArea.innerHTML=`
  <div class="file-box">
        <span class="file-icon">
          <i class="fa-solid fa-file"></i>
        </span>
        <div class="file-desc">
          <span class="file-name">${file.name}</span>
          <span class="file-meta">
            size
            <span class="file-size">${fileTotal}Mb</span>
          </span>
        </div>
        <div class="upload-status-container">
          <div class="upload-progress-container">
            <div class="progress-bar hidden" style="width:${fileLoaded}%"></div>
            <div class="progress-percent hidden">${fileLoaded}%</div>
            <span class="progress-icon hidden"><i class="fa-solid fa-xmark"></i></span>
           
          </div>
          <div class="uploaded-label">
                    uploaded
                    <span class="upload-status-icon">
                      <i class="fa-solid fa-circle-check"></i>
                    </span>

                    </div>
        </div>
      </div>
  `;

});

xhr.send(formData);

//   // fetch(url, {
//   //   method: "POST",
//   //   body: formData,
//   // })
//   //   .then((response) => response.text())
//   //   .then((data) => {
//   //     console.log(data);
//   //   });
}</script>
          <!-- the end of drop area -->
        
          <!-- <div class="file-container">
            <div class="file-item">
              
              <div class="file-box">
                <span class="file-icon">
                  <i class="fa-solid fa-file"></i>
                </span>
                <div class="file-desc">
                  <span class="file-name">file name</span>
                  <span class="file-meta">
                    file type *
                     <span class="file-size"></span>
                     2mb
                  </span>
                </div>
                <div class="upload-status-container">
                  <div class="upload-progress-container hidden">
                     <div class="progress-bar"></div>
                     <div class="progress-percent">50%</div>
                     <span class="progress-icon"><i class="fa-solid fa-xmark"></i></span>
                  </div>
                  <div class="upload-status">
                  <div class="uploading hidden">
                    <span class="upload-status-icon hidden">
                      <i class="fa-solid fa-thermometer"></i>
                    </span>
                    uploading...
                  </div>
                    <div class="uploaded-label">
                    uploaded
                    <span class="upload-status-icon">
                      <i class="fa-solid fa-circle-check"></i>
                    </span>

                    </div>
                  </div>
                  <div class="trash-icon">
                    <i class="fa-solid fa-trash-can"></i>
                  </div>
                </div>
              </div>
            </div>
          </div> -->
         </div>   
          <div class="chatbot-var-1">
                <button class="arrow-btn right-arrow-btn">
                    <i class="fa-solid fa-arrow-right"></i>
                </button>
                <div class="chatbot-logo">
                    <img src="/static/asset/logo.svg" alt="logo" />
                </div>
                <div class="chatbot-headline">
                    what can i <span>help</span> you ?
                </div>
                <div class="robot-say-hi">
                    <img src="/static/asset/robot-3.png" alt="" />
                </div>
                <div class="func-container">
                    <button class="chatbot-func-item" id="chat-btn">
                        <div class="active-state-shape hidden">
                            <img src="/static/asset/active-state-shape.svg" alt="">
                        </div>
                        <span class="func-item-icon"><i class="fa-brands fa-rocketchat"></i>
                        </span>
                         <p>chat</p>
                    </button>
                    <button class="chatbot-func-item" id="quize-btn">
                      <div class="active-state-shape hidden">
                        <img src="/static/asset/active-state-shape.svg" alt="">
                      </div>
                        <span class="func-item-icon">
                            <i class="fa-regular fa-message"></i>
                            <i class="fa-solid fa-question"></i></span>
                    <p>quize</p>
                    </button>
                    <button class="chatbot-func-item" id="custom-upload-btn">
                      <div class="active-state-shape hidden">
                        <img src="/static/asset/active-state-shape.svg" alt="">
                      </div>
                      <span class="func-item-icon">
                            <i class="fa-solid fa-upload"></i>
                        </span>
                        <p>custom upload</p>
                    </button>
                    <button class="chatbot-func-item" id="setting-btn">
                      <div class="active-state-shape hidden">
                        <img src="/static/asset/active-state-shape.svg" alt="">
                      </div>
                      <span class="func-item-icon"><i class="fa-solid fa-gear"></i></span>
                       <p>setting</p>
                    </button>
                </div>
            </div>

        </div>
      </section>
    </main>
    {%block footer%}
    <footer>
      <div class="footer-content">
        <div class="footer-logo">
          <img src="/static/asset/logo.svg" alt="" />
          <div>miilt<span class="oo">oo</span></div>
        </div>
        <div class="footer-link-container">
          <div class="link-container">
            Home
            <a href="" class="link">grade</a>
            <a href="" class="link">subject</a>
            <a href="" class="link">chatbot</a>
          </div>
          <div class="link-container">
            resource
            <a href="" class="link">textbook</a>
            <a href="" class="link">study guid</a>
            <a href="" class="link">upload</a>
          </div>
          <div class="link-container">
            grade
            <a href="" class="link">grade-9</a>
            <a href="" class="link">grade-10</a>
            <a href="" class="link">grade-11</a>
            <a href="" class="link">grade-12</a>
          </div>
          <div class="link-container">
            pages
            <a href="" class="link">About us</a>
            <a href="" class="link">contact us</a>
            <a href="" class="link">FAQ</a>
            <a href="" class="link">help</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <a class="social-icons"><i class="fa-brands fa-square-twitter"></i></a>
        <a class="social-icons"><i class="fa-brands fa-facebook"></i></a>
        <a class="social-icons"><i class="fa-brands fa-linkedin"></i></a>
        <a class="social-icons"><i class="fa-brands fa-github"></i></a>
        <a class="social-icons"><i class="fa-brands fa-telegram"></i></a>
      </div>
    </footer>
    {%endblock%}
    <!--<script src="/static/js/menu.js"></script>
    -->

    <script src="/static/js/leftbar.js"></script>

    <script>

const quize_choose = document.querySelectorAll(".quize-choose");
const choiceOption = document.querySelectorAll(".choose-list");
const choose_item = document.querySelectorAll(".choose-item");
var questions = {
  1: null,
  2: null
};

function handleChoice(questionId, choice) {
  var selectedChoice = questions[questionId];

  if (selectedChoice === choice) {
    // Deselect the choice if it's already selected
    questions[questionId] = null;
    event.target.classList.remove("active");
  } else {
    // Select the choice
    questions[questionId] = choice;

    var buttons = document.querySelectorAll('.quize-content-container[data-question-id="' + questionId + '"] .choose-list');
   for (let i = 0; i < buttons.length; i++) {
    buttons[i].classList.remove('active');
   }
    event.target.classList.add("active");
  }

  event.preventDefault();
}

document.getElementById("generated-quize-form").addEventListener("submit", function(e) {
  for (var questionId in questions) {
    if (questions.hasOwnProperty(questionId)) {
      var selectedChoice = questions[questionId];
      document.getElementById("selectedChoice" + questionId).value = selectedChoice;
    }
  }

  // Perform any additional form validation or submission logic
  // if needed before allowing the form to be submitted.

  // Uncomment the line below to submit the form
  // this.submit();
});



    </script>
<script src="/static/js/chat.js"></script>
<script src="/static/js/bioquiz.js"></script>
{%endblock%}
